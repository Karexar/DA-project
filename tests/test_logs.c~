#include <stdio.h>
#include <stdlib.h>


// Struct to contain the processes' outputs
// TODO: 

void loadFile(const char *filename) {
	char ch;
  	FILE *fp = fopen(filename, "r");
 
  	gets(filename);
 
 
   if (fp == NULL)
   {
      perror("Error while opening the file.\n");
      exit(EXIT_FAILURE);
   }
 
   printf("The contents of %s file are:\n", filename);
 
   while((ch = fgetc(fp)) != EOF)
      printf("%c", ch);
 
   fclose(fp);
   return 0;
}


int main(int argc, char** argv) {

	// Get the main arguments
	char nb_proc = 0;		
	const char *filename = "da_proc_";
	printf("hello");
	if (argc == 2) {


		// Get the number of process logs
		nb_proc = atoi(argv[1]); 

		// Create a string table containing filename of logs
		char *a[100];
		//printf(sizeof(a)/sizeof(a[0]));

		for(int i=0; i < nb_proc; ++i) {
			a[i] =  filename;
			char number[1] = "";
			strcat(a[i], itoa(i, number, 1));
			//strcat(a[i], ".out");
			printf("%s\n", a[i]);
		}
		printf("OK");

	}
	else {
		printf("Error while parsing the main arguments");
		exit(1);
	}

	// TODO : Load the logs of processes
	//loadFile(filename);

}